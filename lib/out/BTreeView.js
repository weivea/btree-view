!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(function(){return(()=>{"use strict";var t={338:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,".c_tree_node_text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 0 4px;\n  text-align: center;\n  user-select: none;\n}\nsvg.c_tree_svg {\n  margin: 0 auto;\n  display: block;\n}",""]);const o=i},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var u=0;u<t.length;u++){var a=[].concat(t[u]);r&&i[a[0]]||(n&&(a[2]?a[2]="".concat(n," and ").concat(a[2]):a[2]=n),e.push(a))}},e}},914:(t,e,n)=>{n.r(e),n.d(e,{create:()=>mt,creator:()=>a,local:()=>wt,matcher:()=>d,namespace:()=>o,namespaces:()=>i,pointer:()=>At,pointers:()=>St,select:()=>gt,selectAll:()=>Nt,selection:()=>yt,selector:()=>l,selectorAll:()=>p,style:()=>D,window:()=>P});var r="http://www.w3.org/1999/xhtml";const i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t}function s(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}}function u(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function a(t){var e=o(t);return(e.local?u:s)(e)}function c(){}function l(t){return null==t?c:function(){return this.querySelector(t)}}function f(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function h(){return[]}function p(t){return null==t?h:function(){return this.querySelectorAll(t)}}function d(t){return function(){return this.matches(t)}}function v(t){return function(e){return e.matches(t)}}var y=Array.prototype.find;function g(){return this.firstElementChild}var m=Array.prototype.filter;function _(){return this.children}function w(t){return new Array(t.length)}function b(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function x(t){return function(){return t}}function A(t,e,n,r,i,o){for(var s,u=0,a=e.length,c=o.length;u<c;++u)(s=e[u])?(s.__data__=o[u],r[u]=s):n[u]=new b(t,o[u]);for(;u<a;++u)(s=e[u])&&(i[u]=s)}function S(t,e,n,r,i,o,s){var u,a,c,l=new Map,f=e.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(a=e[u])&&(p[u]=c=s.call(a,a.__data__,u,e)+"",l.has(c)?i[u]=a:l.set(c,a));for(u=0;u<h;++u)c=s.call(t,o[u],u,o)+"",(a=l.get(c))?(r[u]=a,a.__data__=o[u],l.delete(c)):n[u]=new b(t,o[u]);for(u=0;u<f;++u)(a=e[u])&&l.get(p[u])===a&&(i[u]=a)}function N(t){return t.__data__}function C(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function k(t){return function(){this.removeAttribute(t)}}function E(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j(t,e){return function(){this.setAttribute(t,e)}}function M(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function L(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function P(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function B(t){return function(){this.style.removeProperty(t)}}function O(t,e,n){return function(){this.style.setProperty(t,e,n)}}function H(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function D(t,e){return t.style.getPropertyValue(e)||P(t).getComputedStyle(t,null).getPropertyValue(e)}function q(t){return function(){delete this[t]}}function K(t,e){return function(){this[t]=e}}function V(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function W(t){return t.trim().split(/^|\s+/)}function I(t){return t.classList||new X(t)}function X(t){this._node=t,this._names=W(t.getAttribute("class")||"")}function R(t,e){for(var n=I(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function U(t,e){for(var n=I(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Y(t){return function(){R(this,t)}}function G(t){return function(){U(this,t)}}function z(t,e){return function(){(e.apply(this,arguments)?R:U)(this,t)}}function Z(){this.textContent=""}function F(t){return function(){this.textContent=t}}function J(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Q(){this.innerHTML=""}function $(t){return function(){this.innerHTML=t}}function tt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function et(){this.nextSibling&&this.parentNode.appendChild(this)}function nt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rt(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function ot(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function st(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ut(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function at(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function ct(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,u=i.length;s<u;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function lt(t,e,n){var r=P(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ft(t,e){return function(){return lt(this,t,e)}}function ht(t,e){return function(){return lt(this,t,e.apply(this,arguments))}}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},X.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var pt=[null];function dt(t,e){this._groups=t,this._parents=e}function vt(){return new dt([[document.documentElement]],pt)}dt.prototype=vt.prototype={constructor:dt,select:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,u=e[i],a=u.length,c=r[i]=new Array(a),f=0;f<a;++f)(o=u[f])&&(s=t.call(o,o.__data__,f,u))&&("__data__"in o&&(s.__data__=o.__data__),c[f]=s);return new dt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:f(e)}}(t):p(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,u=e[o],a=u.length,c=0;c<a;++c)(s=u[c])&&(r.push(t.call(s,s.__data__,c,u)),i.push(s));return new dt(r,i)},selectChild:function(t){return this.select(null==t?g:function(t){return function(){return y.call(this.children,t)}}("function"==typeof t?t:v(t)))},selectChildren:function(t){return this.selectAll(null==t?_:function(t){return function(){return m.call(this.children,t)}}("function"==typeof t?t:v(t)))},filter:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],u=s.length,a=r[i]=[],c=0;c<u;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&a.push(o);return new dt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,N);var n=e?S:A,r=this._parents,i=this._groups;"function"!=typeof t&&(t=x(t));for(var o=i.length,s=new Array(o),u=new Array(o),a=new Array(o),c=0;c<o;++c){var l=r[c],h=i[c],p=h.length,d=f(t.call(l,l&&l.__data__,c,r)),v=d.length,y=u[c]=new Array(v),g=s[c]=new Array(v),m=a[c]=new Array(p);n(l,h,y,g,m,d,e);for(var _,w,b=0,C=0;b<v;++b)if(_=y[b]){for(b>=C&&(C=b+1);!(w=g[C])&&++C<v;);_._next=w||null}}return(s=new dt(s,r))._enter=u,s._exit=a,s},enter:function(){return new dt(this._enter||this._groups.map(w),this._parents)},exit:function(){return new dt(this._exit||this._groups.map(w),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof dt))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),u=0;u<o;++u)for(var a,c=e[u],l=n[u],f=c.length,h=s[u]=new Array(f),p=0;p<f;++p)(a=c[p]||l[p])&&(h[p]=a);for(;u<r;++u)s[u]=e[u];return new dt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=C);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,u=n[o],a=u.length,c=i[o]=new Array(a),l=0;l<a;++l)(s=u[l])&&(c[l]=s);c.sort(e)}return new dt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,u=o.length;s<u;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?E:k:"function"==typeof e?n.local?L:T:n.local?M:j)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?B:"function"==typeof e?H:O)(t,e,null==n?"":n)):D(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?q:"function"==typeof e?V:K)(t,e)):this.node()[t]},classed:function(t,e){var n=W(t+"");if(arguments.length<2){for(var r=I(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?z:e?Y:G)(n,e))},text:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?J:F)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Q:("function"==typeof t?tt:$)(t)):this.node().innerHTML},raise:function(){return this.each(et)},lower:function(){return this.each(nt)},append:function(t){var e="function"==typeof t?t:a(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:a(t),r=null==e?rt:"function"==typeof e?e:l(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},clone:function(t){return this.select(t?st:ot)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=ut(t+""),s=o.length;if(!(arguments.length<2)){for(u=e?ct:at,r=0;r<s;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var a,c=0,l=u.length;c<l;++c)for(r=0,a=u[c];r<s;++r)if((i=o[r]).type===a.type&&i.name===a.name)return a.value},dispatch:function(t,e){return this.each(("function"==typeof e?ht:ft)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const yt=vt;function gt(t){return"string"==typeof t?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],pt)}function mt(t){return gt(a(t).call(document.documentElement))}var _t=0;function wt(){return new bt}function bt(){this._="@"+(++_t).toString(36)}function xt(t){let e;for(;e=t.sourceEvent;)t=e;return t}function At(t,e){if(t=xt(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function St(t,e){return t.target&&(t=xt(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>At(t,e)))}function Nt(t){return"string"==typeof t?new dt([document.querySelectorAll(t)],[document.documentElement]):new dt([null==t?[]:f(t)],pt)}bt.prototype=wt.prototype={constructor:bt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},840:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var r=n(379),i=n.n(r),o=n(338);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},379:(t,e,n)=>{var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],i=0;i<t.length;i++){var u=t[i],a=e.base?u[0]+e.base:u[0],c=n[a]||0,l="".concat(a," ").concat(c);n[a]=c+1;var f=s(l),h={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(o[f].references++,o[f].updater(h)):o.push({identifier:l,updater:v(h,e),references:1}),r.push(l)}return r}function a(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var c,l=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function f(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function v(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=a(e)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=a(e),r=h.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var a=u(t,e),c=0;c<n.length;c++){var l=s(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=a}}}},370:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(914),i=n(661);n(840);var o={id:"tree-view",successNodeKey:"successTradeNode",failNodeKey:"failTradeNode",nameKey:"tradeNodeInstanceName",groupKey:"BelongToGroup",minVivewHeight:600,nodeWidth:120,nodeHeight:50,autoDistanceX:200,autoDistanceY:160},s="#111111",u=function(){function t(t){this.clickCBs=[],this.nodes={},this.nodePositions={},this.lines={},this.checkerboard=new Array(500).fill(new Array(500)),this.opt=Object.assign({},o,t),this.box=document.getElementById(this.opt.id),this.box.style.display="block",this.box.style.padding="0px",this.box.style.overflowX="auto",this.initSvg(),this.groupTranslate={x:this.opt.nodeWidth,y:this.opt.nodeHeight};var e=this.groupTranslate,n=e.x,r=e.y;this.group=this.svg.append("g").classed("g-board",!0).attr("transform","translate("+n+","+r+")"),this.pictureL=this.group.append("g").classed("p-board-l",!0),this.picture=this.group.append("g").classed("p-board",!0)}return t.prototype.initSvg=function(){var t=this.box.offsetHeight;this.box.style.minHeight=(t>this.opt.minVivewHeight?t:this.opt.minVivewHeight)+"px",this.svg=r.select(this.box).append("svg").classed("c_tree_svg",!0).attr("width",this.box.offsetWidth).attr("height",this.box.offsetHeight),this.svg.append("defs").append("marker").attr("id","arrow").attr("markerUnits","strokeWidth").attr("markerWidth",12).attr("markerHeight",12).attr("viewBox","0 0 12 12").attr("refX",6).attr("refY",6).attr("orient","auto").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2").style("fill","#000000")},t.prototype.resizeSvg=function(){var t=this.opt,e=t.nodeWidth,n=t.nodeHeight,r=this.box.querySelector(".g-board").getBBox();this.svg.attr("width",r.width+e),this.svg.attr("height",r.height+n)},t.prototype.onNodeClict=function(t){this.clickCBs.push(t)},t.prototype.loadTree=function(t){var e=this;this.checkerboard=new Array(500).fill(new Array(500)),this.nodes={},this.nodePositions={},this.lines={},this.picture.selectAll("*").remove(),this.pictureL.selectAll("*").remove(),this.loadNode(t,[0,0]),this.drawNodes(),this.drowLines(),setTimeout((function(){e.resizeSvg()}),0)},t.prototype.loadNode=function(t,e){var n=e[0],r=e[1];this.checkerboard[n][r]=!0;var o="n"+i.default();this.nodes[o]=t,this.nodePositions[o]=e;var s=this.opt,u=s.successNodeKey,a=s.failNodeKey,c=t[u],l=t[a];if(this.lines[o]=[],l&&(this.checkerboard[n+1][r]=!0,this.lines[o].push({type:"fail",key:o,line:[[n,r],[n+1,r],[n+1,r+1]]}),this.loadNode(l,[n+1,r+1])),c){var f=n,h=r+1,p=[[n,r],[f,h]];if(c[a])for(;this.checkerboard[f+1][h];)h++,p.push([f,h]);this.lines[o].push({key:o,type:"fail",line:p}),this.loadNode(c,[f,h])}},t.prototype.drawNodes=function(){var t=this,e=this.opt,n=e.nodeWidth,r=e.nodeHeight,i=e.autoDistanceX,o=e.autoDistanceY;this.picture.selectAll("rect").data(Object.keys(this.nodes)).enter().append("rect").attr("class",(function(t){return t})).attr("width",n).attr("height",r).attr("x",(function(e){var n=t.nodePositions[e],r=t.opt.nodeWidth;return n[0]*i-Math.floor(r/2)})).attr("y",(function(e){var n=t.nodePositions[e],r=t.opt.nodeHeight;return n[0],n[1]*o-Math.floor(r/2)})).attr("rx",6).attr("ry",6).style("stroke",(function(e){return t.nodes[e][t.opt.colorKey]||s})).style("fill",(function(e){return t.nodes[e][t.opt.bgColorKey]||"#ffffff"})).style("stroke-width",2),this.picture.selectAll("foreignObject").data(Object.keys(this.nodes)).enter().append("foreignObject").attr("data-key",(function(t){return t})).attr("width",n).attr("height",r).attr("x",(function(e){var n=t.nodePositions[e],r=t.opt.nodeWidth;return n[0]*i-Math.floor(r/2)})).attr("y",(function(e){var n=t.nodePositions[e],r=t.opt.nodeHeight;return n[0],n[1]*o-Math.floor(r/2)})).html((function(e){var n=t.nodes[e],i=n[t.opt.nameKey];return'<div class="c_tree_node_text '+e+'" style="line-height:'+r+"px; color:"+(n[t.opt.colorKey]||s)+'" title="'+i+'">'+i+"</div>"})).on("click",(function(e,n){var r=t.nodes[n];t.clickCBs.forEach((function(t){t(r)}))}))},t.prototype.drowLines=function(){var t=this.opt,e=(t.nodeWidth,t.nodeHeight),n=t.autoDistanceX,r=t.autoDistanceY,i=Object.values(this.lines).reduce((function(t,e){return t.concat(e)}),[]);this.pictureL.selectAll("polyline").data(i).enter().append("polyline").style("stroke-width",2).style("stroke","#000000").style("fill","none").attr("class",(function(t){return"line-"+t.key+" line-"+t.type})).attr("marker-end","url(#arrow)").attr("points",(function(t){var i=t.line.map((function(t){return[t[0]*n,t[1]*r]})),o=i[i.length-1];return o[1]=o[1]-Math.floor(e/2)-8,i.join(" ")}))},t.prototype.destroyed=function(){this.clickCBs=[]},t}();e.default=u},661:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=0;e.default=function(){return++n}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(370)})()}));